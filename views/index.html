<!-- <!DOCTYPE html>
<html>
    <head>
        <title>{{title}}</title>
    </head>
    <body>
        <h1>{{title}}</h1>
        <h1>{{title | safe}}</h1>   < 뒤에 safe를 쳐줘야 app.js에서 <strong>한게 제대로 반영됨
        <h1>{{number}}</h1>

        <a href="/member">회원관리</a>
        <ul>
            {% for item in fruits %}
            <li>{{item}}</li>
            {% endfor %}
        </ul>
        
    </body>
</html> -->


{% include "include/header.html" %} <!-- include 폴더안에 header.html을 헤더로 사용-->


<main id="main" class="main">

  <div class="pagetitle">
    <h1>첫페이지</h1>
  </div><!-- End Page Title -->

  <section class="section">
    <div class="row">
      <div class="col-lg-12">

        <div class="card">
          <div class="card-body">
            <h5 class="card-title">김은현의 홈페이지에 오신것을 환영합니다.</h5>
          </div>
        </div>

      </div>
    </div>

    <!--신규 회원 리스트-->
    <div class="row">
      <div class="col-lg-6"> <!--col-lg-12 : 화면 가로 쭉 줄 / 6 : 반만-->
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">신규 회원 리스트</h5>
            <table class="table">
              <thead>
                <tr>
                  <th class="col-4">아이디</th>
                  <th>이름</th>
                  <th class="col-4">등록일</th>
                </tr>
              </thead>
              <tbody id="member_table"> <!-- 내용은 서버에서 가져올거-->

              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-6"> <!--col-lg-12 : 화면 가로 쭉 줄 / 6 : 반만-->
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">공지사항</h5>
            <table class="table">
              <thead>
                <tr>
                  <th class="col-4">제목</th>
                  <th>작성자</th>
                  <th class="col-4">등록일</th>
                </tr>
              </thead>
              <tbody id="notice_table"> <!-- 내용은 서버에서 가져올거-->

              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </section>

</main>
<script>
  $(document).ready(function () {
    $.ajax({
      url: "/member/getTodayMember",
      type: "get",
      cache: false,
      dataType: "json",
      //data: "", 
      async: true,
      success: function (res) {
        //console.log(res);   // 개발자도구 콘솔에 찍힘
        if(res != null) {
          for(i=0; i<res.length; i++){
            // let html = "<tr> <td>" + res[i].userid + "</td> <td></td> <td></td> </tr>"    // 이거보다 아래처럼 쓰는게 나음
            let html = `<tr> <td>${res[i].title}</td> <td>${res[i].name}</td> <td>${res[i].regdate}</td> </tr>`;

            $('#member_table').append(html);  // 위에 tbody에 넣어주기
          }
        }
      },
      error: function (request, status, error) {
        console.log(error);
      }
    });

    $.ajax({
      url: "/notice/getTodayMember",
      type: "get",
      cache: false,
      dataType: "json",
      //data: "", 
      async: true,
      success: function (res) {
        //console.log(res);   // 개발자도구 콘솔에 찍힘
        if(res != null) {
          for(i=0; i<res.length; i++){
            // let html = "<tr> <td>" + res[i].userid + "</td> <td></td> <td></td> </tr>"    // 이거보다 아래처럼 쓰는게 나음
            let html = `<tr> <td>${res[i].userid}</td> <td>${res[i].name}</td> <td>${res[i].regdate}</td> </tr>`;

            $('#notice_table').append(html);  // 위에 tbody에 넣어주기
          }
        }
      },
      error: function (request, status, error) {
        console.log(error);
      }
    });
  });
</script>

{% include "include/footer.html" %}